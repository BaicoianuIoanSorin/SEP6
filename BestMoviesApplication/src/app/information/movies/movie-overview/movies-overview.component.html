<ng-container *ngIf="isFetching$ | async; then dataFetching; else dataFetched">
</ng-container>
<ng-template #dataFetched>
  <nb-card
    *ngIf="movie$ | async as movie">
    <nb-card-header>
      <h1>
          <span>
            {{ movie.title }}
          </span>
      </h1>
      <ul>
        <li>
          Year of publication: {{ movie.year}}
        </li>
        <!--          <li>-->
        <!--            â€¢-->
        <!--          </li>-->
        <!--          <li>-->
        <!--            Something else-->
        <!--          </li>-->
      </ul>
    </nb-card-header>
    <nb-card-body class="grid-container">
      <div class="left-content">
        <nb-card size="medium" class="poster-movie-overview">
          <nb-card-body class="body-poster-movie">
            <img *ngIf="movie.posterUrl"
                 [src]="movie.posterUrl" [alt]="movie.title">
            <img *ngIf="!movie.posterUrl"
                 src="../../../assets/no-poster-available.jpg" [alt]="movie.title">
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam eu ullamcorper dui. Ut suscipit urna et neque luctus, in malesuada lacus euismod. Mauris porttitor pellentesque placerat. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Fusce gravida vel lorem vitae mollis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam eu ullamcorper dui. Ut suscipit urna et neque luctus, in malesuada lacus euismod. Mauris porttitor pellentesque placerat. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Fusce gravida vel lorem vitae mollis.
            </p>
          </nb-card-body>
        </nb-card>

        <div class="border">
        </div>

        <nb-card class="directors-stars"
        *ngIf="{ stars: stars$ | async, directors: directors$ | async} as cast">
          <nb-card-header>
            <h3>
              Directors and actors
            </h3>
          </nb-card-header>
          <nb-card-body>
<!--            directors-->
            <ul>
              <li *ngFor="let director of cast.directors"
                  [ngClass]="{ 'undefined-item': director === undefined }"
                  (click)="redirectToDirectorOverview(director.id)">
                <ng-container *ngIf="director !== undefined">
                  {{ director.name }}
                </ng-container>
              </li>
            </ul>

<!--            stars-->
            <ul>
              <li *ngFor="let star of cast.stars"
                  [ngClass]="{ 'undefined-item': star === undefined }"
                  (click)="redirectToStarOverview(star.id)">
                <ng-container *ngIf="star !== undefined">
                  {{ star.name }}
                </ng-container>
              </li>
            </ul>
          </nb-card-body>

        </nb-card>

        <div class="list-of-reviews">

        </div>
      </div>
      <div class="sidebar">
        <div class="list-best-movies">
          dadada
        </div>
        <div class="top-five-movies-same-year">
          ada
        </div>
        <div class="movies-same-rating-range">
          adadasdada
        </div>
      </div>
    </nb-card-body>
  </nb-card>
  <!--  TODO to be implemented-->
</ng-template>
<ng-template #dataFetching>
  <nb-spinner
    [nbSpinner]="true"
    status="basic"
    class="spinner">
  </nb-spinner>
</ng-template>
